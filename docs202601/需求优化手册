1.厨具应该有默认虚方法来判断满没满。子类逻辑特殊可以重写。

游戏策划书：GameDesignDocument.md
需求文档：DetailedRequirementsDocument.md
架构文档：GameArchitectureDocument.md
进度文档：AIDevProgressDocument.md
游戏待办清单：AIToDoListDocument.md
根据以上游戏设计文档和项目代码。完成任务。改造代码完成我下面的要求。
Dish类不可以去继承monobehavior。更不能带代码里面直接new 出来，。要记录Dish可以在ingredient里面增加一个对应的数据字段，一直维护这个就好了。
DishSource{

    List<IngredientInfo>;

    cookedMethod;

    List<DishSource>;

}

IngredientInfo{
    
    string ingredientId;

    int quantity ；

}这是一个记录食物制作过程的使用了哪些材料的数据类。最后在Ingredient里面提供一些操作这个数据字段的方法。





3.厨具工作的时候上面显示一个工作中的UI。



游戏策划书：GameDesignDocument.md
需求文档：DetailedRequirementsDocument.md
架构文档：GameArchitectureDocument.md
进度文档：AIDevProgressDocument.md
游戏待办清单：AIToDoListDocument.md
根据以上游戏设计文档和项目代码。完成任务。改造代码完成我下面的要求。
根据要求重构厨具，食材，食谱系统。
2.所有的食材都是一个Ingredient。Ingredient是实际场景中的物品，有对应的各种属性。
3.所有的厨具都继承自Tool。且会在游戏开始的时候将不同的厨具替换成对应的子类。
4.食材拖动到厨具之后就会就会在厨具中来维护DishSource{

    List<IngredientInfo>;

    cookedMethod;

    List<DishSource>;

}

IngredientInfo{
    
    string ingredientId;

    int quantity ；

}这样一个变量。然后还需要清除掉拖进来的Ingredient。
5.我们需要在厨具的固定区域来维护一张图片信息。
厨具里面没有菜的时候就不需要显示。如果厨具里面有菜了我们有可能是需要显示菜的图片的。比如说砧板，烤架这种就需要显示图片，
但是锅，搅拌机这种封闭的厨具就不需要显示图片。砧板因为只能放生食材拿去切，所以可以去找图片后缀带cut的对应图片。烤架可能需要分两类，如果放入的是生食材iu需要去找带烤标签的图片。
如果放入的一种dish暂时先固定显示同一种图片。



游戏策划书：GameDesignDocument.md
需求文档：DetailedRequirementsDocument.md
架构文档：GameArchitectureDocument.md
进度文档：AIDevProgressDocument.md
游戏待办清单：AIToDoListDocument.md
根据以上游戏设计文档和当前项目代码。完成任务。改造代码完成我下面的要求。
1.有一个可以通过参数来设置的顾客区域，最多可以摆放四个顾客，当一个顾客吃完之后，后面的顾客会依次往前挪，并且再生成的顾客会排在最后面。
2.每一个顾客头顶上都显示一个自己想吃的菜。
3.游戏的做菜系统并无固定的菜谱，因为需要模拟现实世界的做菜，但是游戏中有菜谱是为了方便顾客点菜，并且当你做完一道菜之后可以通过菜谱来进行评分。菜谱应该
可以通过一些关键食材以及标签来进行评价。比如说番茄炒鸡蛋。食谱应该需要校验切好的番茄，炒好的番茄，炒好的鸡蛋，加了盐的鸡蛋，加了盐的番茄这些关键信息。如果做出的菜
缺少一些标签那么就会进行扣分，最后根据提供给客人的菜的评分来进行结算金币，影响度。不管你做的菜评分怎么样。顾客也应该支付给你盘子中 的所有食材刚买来的时候的总价*0.8 。
游戏中仍然需要菜谱，仅仅是为了给玩家查看怎么才能做做出顾客满意的菜的。需要可以通过界面来查看步骤。
4.目前的厨具应该有炒锅，烤箱，烤架，搅拌机，砧板。厨具的使用规则如下，砧板只能用来切可以被切的生食材，切完之后会把对应的dishSource信息添加到 Tool下方的DishSource字段下。需要记录
有什么食材，打了什么标签，烹饪方式是什么。之后砧板不会再持有Ingredient对象，而是会直接销毁掉该对象，但是对应的切好的食材的图片，有Tool类下持有的图片显示相关的字段来显示。当砧板上的菜被盘子
取走了之后就应该清除自己的菜品信息。因为相关的菜品信息已经转移到盘子上了。
烤架，可以有若干个位置来摆放可以烤的生食材。比如说烤架可以放四个土豆同时进行烹饪，每个烹饪区域有自己独立的烹饪时间（这个是和其他厨具都不一样的地方），盘子一次应该只能从一个区域取走烤好的食物，
这些区域相互独立。独立区域的图片显示逻辑和砧板一样，而且每个独立区域应有自己的dishSource。锅的作用是可以混合食物，并且给里面所有的食材打上一层cooked标签，并且还可以往锅里添加对应的调料
来增加不同的标签，比如说增加盐为锅里所有的食材增加一层salt标签，这些信息应该都是记录在DishSource里面的。搅拌机能将生食材搅拌成xx液，包括牛肉拿去搅拌也会变成牛肉液，会给里面的食材打上已搅拌的标签，支持多种食材混合
最多支持三种。
烤箱可以把任何食物放进去进行烤制，（注意这里的厨具的动作都是通过修改dishSource里面的字段完成的，因为实际的ingredient已经被删除了）会被里面所有来源的食材打上已烤制以及cooked标签，
。所有有加热功能的厨具都可以给食材打上cooked的标签，但是最后盘子里装的菜里面的dishSource要是有哪种食材cooked超过了3，那就是糊了。其他的标签同理，比如说salt标签超过三层那就是太闲了。最后
都会影响顾客的评价，有些菜谱可能会有些特殊要求，比如说不能太咸了，那salt标签是3就会严重降低评分。不同的菜谱都有自己独特的需要注意的地方。
5.厨具和食材之间的交互。生食材可以放到任何厨具中进行处理并且打上标签。食材拖入厨具中视为将食材放到厨具中进行处理，此时厨具便会开始工作。
将代码改成符合我上面的要求的。



1.先查看下列要求，有必要的话，写一个生成预制体Panel的脚本，可以去Editor目录下参考现有的脚本。
2.拖拽的时候支持进行处理的厨具应该有一个高亮的描边的效果。（不用通过简单的复制一层放大一点，设置颜色，放到背景这样的方式，效果很差）
3.厨具工作的时候上面显示一个工作中的UI，做成常见的三个点循环出现的样子（很多等待中效果常用的）。
4.tool里面播放厨具工作音效通过SoundManager来管理。在机器启动的时候播放音效，在机器关闭的时候停止播放音效。烹饪的音效为循环音效。
5. public virtual Ingredient ProcessIngredient(Ingredient ingredient, string cookingMethod)
        {
            if (ingredient == null || !StartUsing(ingredient))
                return null;
            
            // 检查烹饪方式是否可用
            if (!AvailableCookingMethods.Contains(cookingMethod))
            {
                Debug.LogWarning($"Cooking method {cookingMethod} is not available for {ToolId}");
                StopUsing();
                return null;
            }
            
            // 计算耐久度消耗
            float durabilityCost = CalculateDurabilityCost(cookingMethod);
            Durability -= durabilityCost;
            
            // 启动协程处理食材，添加动画延迟
            StartCoroutine(ProcessIngredientWithDelay(ingredient, cookingMethod));
            
            return ingredient;
        }里面的StartUsing逻辑不对不能在开始使用的时候就销毁食材（只能先隐藏食材），万一拖拽失败了食材是需要还原的。
6.食谱系统和现在不符，食谱应该能展示出菜谱制作步骤。参考DishSource的存储，他可以是嵌套的。比如说制作一道复杂的菜可能是多步骤的中间会出现诸多中间dish的。
食谱的匹配应该和dishSource进行匹配。如果匹配到了对应的食谱，返回食谱的信息。食谱应该也要记录最终菜的图片。匹配的方式从食材的数量，不同食材各自的标签，标签强度这些来匹配。
7.实现一个简单的食谱查看的功能，首先需要一个食谱页面，点击对应的食谱之后会显示出制作的详细步骤，第一步干啥，第二步干啥...。
7.GamePanel的顾客排队区域应该根据顾客系统实际关联上排队人数（包括显示4个人的和没显示的），需要增加一个商店的按钮，结束摆摊的按钮。点击结束摆摊后应该触发每日结算。
8.实现商店页面的功能。每一个项需要显示食材的图片，名字，价格（可以通过食材配置文件获取）。商店里面也有厨具升级的按钮，点击厨具升级之后就可以选择我们现有的厨具，花费一定的金币就可以升级。


2026-01-28
游戏策划书：GameDesignDocument.md
需求文档：DetailedRequirementsDocument.md
架构文档：GameArchitectureDocument.md
进度文档：AIDevProgressDocument.md
游戏待办清单：AIToDoListDocument.md
根据以上游戏设计文档和当前项目代码。完成任务。改造代码完成我下面的要求。
1.高光描边换一种方式不要使用复制一层放大的方式，使用shader描边。
2.MainMenuPanel,GamePanel,SettingPanel，库存面板（点击之后要显示自己身上有的食材，类似背包），地图面板，触发事件的面板（会遇到特殊事件，需要给出几个按钮来显示选项，选项个数可能根据事件的不同也不一样。也需要显示选项的说明，根据不同的事件选择不同的选项应该触发不同的点击逻辑），也在生成预制体Panel的脚本生成一下，对应的UI部件需要监听上对应的方法，可以去Editor目录下参考现有的脚本。
需要注意的是GamePanel需要加入食谱按钮，点击之后会显示食谱面板。GamePanel还需要显示自己的声望，金币，饥饿值，口渴度，健康度，经验条等。
还需要停止摆摊按钮，点击之后触发每日结算。还需要有地图按钮，点击之后进入到地图面板，地图面板显示不同的可以去的地方，比如说商店，回家，人才中心，钓鱼场等（可以按照你的想象丰富一下）。地图面板上点击商店应该进入商店页面，
点击钓鱼场触发钓鱼场事件（事件具体内容和效果按照你的理解和想象与之一下），其他的按钮都可以显示功能开发中，显示禁止点击的灰色模式。
3.所有的食材都可以搅拌，搅拌机不用校验食材是否支持该烹饪方式，且搅拌好的食材装盘之后暂时固定显示同一张图片。
4.明确dishSource的操作逻辑，不具有混合功能的厨具产生dishSource的时候把操作后的食材信息放入ingredientInfos字段就好，装盘后这个单个食材信息也不会变成嵌套的dishSource。带有混合操作的厨具，比如说锅和搅拌机，装盘的时候需要把现有的ingredientInfos变成子dishSource。
5.鼠标悬浮在食材，厨具，盘子上一秒后。需要显示食材或者Tool里面菜品的名字，离开后就不显示了。如果是食材则显示食材名字，如果是厨具，则根据厨具的dishSource显示名字，也许dishSource需要新加一个名字字段，如果只有一种食材信息那名字就是这个食材的名字。
两种以上的食材信息每添加一种新食材就把这个字段变成xxx+xxx混合物，直到混合物被装盘了。就把这个dishSource变成子dishSource并且把名字改成xxx+xxx+...+菜。显示某个dishSource的描述需要显示名字+（子dishSource名字+（子子dishSource名字...）,直到没有子dishSource。
6.再优化一下顾客系统，顾客的位置应该是场景的位置不是UI的位置，顾客不需要座位管理，因为盘子拖到顾客上就算上菜了，所有的逻辑当时就结算完。
7.每日流程不是一开始就摆摊的，需要先去弹出商店面板然后在商店买食材，之后再开始摆摊。可以直接打开库存面板，把里面的食材拖到场景中，如果一次拖动的食材是一个，直接在场景目标点生成该食材，
如果一次拖到的食材大于等于2，就在目标点生成该食材的StorageArea（如果已经有东西了就拖拽失败）。
8.生成一个Debug脚本，挂在场景中之后，通过直接按键就可以模拟诸多功能。建议也写一个生成DebugPanel的脚本，这样按键不够用的时候点击该panel里面的按钮就可以直接模拟某一个功能点，比如说增加金币，减少金币
增加声望，减少声望，触发测试事件，购买某种指定数量的食材等等，需要比较详细，并且按钮分好类，要有层次感，不要遮住主场景，最好是某一类的功能我点开之后才显示一系列的按钮或者别的组件。这样就不会遮住测试场景。
